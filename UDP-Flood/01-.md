# DNS Flooding 공격 실습 

### DNS Flooding 개념  

- DNS Flooding은 서버 자원이나 대역폭을 고갈시키는 방법 중 하나입니다.  
- DNS 프로토콜을 이용하여 대량의 질의 트래픽을 발생시켜서 서비스 가용성을 저하시키는 공격입니다.
- 일반적으로 UDP 기반으로 동작하며, UDP의 특성상 대량의 요청을 낮은 비용으로 전송이 가능합니다. 하지만 서버에서는 각 질의에 대해 비싼 처리가 필요한 경우, 서버측의 자원이 크게 소모될 수 있습니다.  
- DNS Query Flood와 DNS Reflection로 두가지 유형을 나누어서 소개하겠습니다. 

<br>

### DNS Flooding DDOS 공격 종류    
- DNS Query Flooding
    - 자원 소진 공격에 해당하며, 
    - DNS 서버에 대량의 DNS 질의를 보내서 정상 서비스를 할 수 없게 만드는 공격입니다. 
    - 공격자는 주로 다수의 봇넷을 활용하며, 짧은 시간동안 대량의 DNS 질의를 보내므로 자원이 소모되었다면 정상 사용자의 질의에 응답하지 못하게 됩니다. 

- DNS Reflection Attack
    - DRDoS 공격이며, 대역폭 공격에 해당합니다.
    - 출발지 ip를 공격 대상 피해자 ip 주소로 위조하여 dns 서버에 질의를 보냅니다. 
    - 해당 서버들이 생성한 대용량 응답은 피해자에게 전송이 되며 이로 인해 피해자의 대역폭을 고갈시키게 됩니다.
    - 응답 크기를 극대화하기 위해 DNS 서버의 모든 레코드를 요청하는 ANY 타입 질의를 사용하며, DNS 서버는 요청받은 패킷에 대해 증폭된 응답을 피해자에게 전달합니다.  

<br>

### 환경 구성  

이번 실습에서는 dns 서버가 있어야 하므로, 단순한 DNS 서버를   



kali  
openwrt  
Alpine Linux  
로 구성  

meta에는 모듈 x  
출발지 ip. 수정 코드만 만들면 끝  


### Reference  
- https://www.cloudflare.com/ko-kr/learning/ddos/udp-flood-ddos-attack/

